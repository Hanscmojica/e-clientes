 2. BUSCAR ESTAS FUNCIONES EN TU api.js Y AGREGAR 1 LÃNEA EN CADA UNA:
// ===============================

// ğŸ” BUSCA tu funciÃ³n que se llama algo como "consultarReferencias()" o "btnConsultar.onclick"
// AGREGAR ESTA LÃNEA AL FINAL (cuando la consulta sea exitosa):
/*
function consultarReferencias() {
    // ... tu cÃ³digo existente ...
    
    // AL FINAL, AGREGAR:
    logger.log('REFERENCIAS_BUSQUEDA', '', `Resultados: ${referenciasCompletas.length}`);
}
*/

// ğŸ” BUSCA tu funciÃ³n "mostrarModalReferencia()" o similar
// AGREGAR ESTA LÃNEA AL FINAL:
/*
function mostrarModalReferencia(indexEnListaMostrada) {
    // ... tu cÃ³digo existente ...
    
    // AL FINAL, AGREGAR:
    logger.log('REFERENCIA_HISTORIAL', referenciaOriginal.Referencia, 'Consulta historial');
}
*/

// ğŸ” BUSCA tu funciÃ³n "generarBibliotecaModal()" 
// AGREGAR ESTA LÃNEA cuando se cargan documentos exitosamente:
/*
function generarBibliotecaModal(referenciaOriginal) {
    // ... tu cÃ³digo existente ...
    
    // BUSCAR donde dice algo como "data.documents.length" y AGREGAR DESPUÃ‰S:
    logger.log('REFERENCIA_BIBLIOTECA', numeroReferencia, `Documentos: ${data.documents.length}`);
}
*/

// ğŸ” BUSCA tu funciÃ³n "verDocumentoModal()" 
// AGREGAR ESTA LÃNEA AL PRINCIPIO:
/*
function verDocumentoModal(referenciaId, docNombre) {
    // AGREGAR AL PRINCIPIO:
    logger.log('DOCUMENTO_VISUALIZACION', referenciaId, docNombre);
    
    // ... resto de tu cÃ³digo existente ...
}
*/

// ğŸ” BUSCA tu funciÃ³n "descargarDocumentoModal()"
// AGREGAR ESTA LÃNEA AL PRINCIPIO:
/*
function descargarDocumentoModal(referenciaId, docNombre) {
    // AGREGAR AL PRINCIPIO:
    logger.log('DOCUMENTO_DESCARGA', referenciaId, docNombre);
    
    // ... resto de tu cÃ³digo existente ...
}
*/

// ===============================
// RESUMEN DE CAMBIOS EN api.js:
// ===============================

/*
ğŸ“ api.js
â”œâ”€â”€ [Tu cÃ³digo existente...]
â”œâ”€â”€ 
â”œâ”€â”€ function consultarReferencias() {
â”‚   â””â”€â”€ + logger.log('REFERENCIAS_BUSQUEDA', '', `Resultados: ${referenciasCompletas.length}`);
â”œâ”€â”€ 
â”œâ”€â”€ function mostrarModalReferencia() {
â”‚   â””â”€â”€ + logger.log('REFERENCIA_HISTORIAL', referenciaOriginal.Referencia, 'Consulta historial');
â”œâ”€â”€ 
â”œâ”€â”€ function generarBibliotecaModal() {
â”‚   â””â”€â”€ + logger.log('REFERENCIA_BIBLIOTECA', numeroReferencia, `Documentos: ${data.documents.length}`);
â”œâ”€â”€ 
â”œâ”€â”€ function verDocumentoModal() {
â”‚   â””â”€â”€ + logger.log('DOCUMENTO_VISUALIZACION', referenciaId, docNombre);
â”œâ”€â”€ 
â”œâ”€â”€ function descargarDocumentoModal() {
â”‚   â””â”€â”€ + logger.log('DOCUMENTO_DESCARGA', referenciaId, docNombre);
â”œâ”€â”€ 
â””â”€â”€ [AL FINAL]